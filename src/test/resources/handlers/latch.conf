parallelLatch = ${parallel}{
  latch = 0
  children = [
    ${delayedStub}{
      msg = "sleep 300ms"
      sleep = 300ms
    }
    ${delayedStub}{
      msg = "sleep 200ms"
      sleep = 200ms
    }
  ]
  merger = ${basic}{class = com.epilogue.framework.processor.core.DebugMerger}
}

handlers {
  parallelLatch = ${serial}{
    children = [
      ${parallelLatch}{
        children = [
          ${delayedStub}{
            msg = "empty"
            sleep = 100ms
          }
        ]${parallelLatch.children}
      }
      ${predecessorsAssertStub}{
        content = [sleep 200ms, sleep 300ms]
      }
      ${parallelLatch}{
        children = [
          ${delayedStub}{
            msg = "empty"
            sleep = 400ms
          }
        ]${parallelLatch.children}
      }
      ${predecessorsAssertStub}{
        content = [sleep 200ms, sleep 300ms]
      }
      ${parallelLatch}{
        children = [
          ${delayedStub}{
            msg = "sleep 110ms"
            sleep = 110ms
          }
        ]${parallelLatch.children}
      }
      ${predecessorsAssertStub}{
        content = [sleep 110ms]
      }
      ${parallelLatch}{
        children = [
          ${delayedStub}{
            msg = "sleep 1000ms"
            sleep = 1000ms
          }
        ]${parallelLatch.children}
      }
      ${predecessorsAssertStub}{
        content = [ sleep 1000ms, sleep 200ms, sleep 300ms]
      }
    ]
  }
}
